

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Score Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        table {
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: center;
        }
        .total-score {
            margin-top: 10px;
        }
        input[type="text"] {
            width: 60px;
        }
        button {
            margin-top: 10px;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<!-- Number of players input -->
<label for="numPlayers">Number of Players:</label>
<input type="number" id="numPlayers" min="1" value="3" onchange="updatePlayers()">
<br><br>

<!-- Player names inputs -->
<div id="playerNames">
    <label for="playerName0">Player 1:</label>
    <input type="text" id="playerName0" placeholder="Player 1">
    <br><br>
    <label for="playerName1">Player 2:</label>
    <input type="text" id="playerName1" placeholder="Player 2">
    <br><br>
    <label for="playerName2">Player 3:</label>
    <input type="text" id="playerName2" placeholder="Player 3">
    <br><br>
</div>

<button id="updateButton" onclick="updateTable()">Update Player Names</button>

<!-- Table for rounds and score inputs -->
<table id="scoreTable">
    <!-- Content will be dynamically generated by JavaScript -->
</table>

<!-- Number of rounds input -->
<label for="numRounds">Number of Rounds:</label>
<input type="number" id="numRounds" min="1" value="10" onchange="updateTable()">
<br><br>

<div id="totalScores" class="total-score">
    <!-- Total scores for each player will be shown here -->
</div>

<script>
    let scores = {}; // Store scores for each player in each round

    function updatePlayers() {
        // Update player names inputs
        const numPlayers = document.getElementById('numPlayers').value;
        const playerNamesDiv = document.getElementById('playerNames');
        let playerNameInputsHTML = '';
        for (let i = 0; i < numPlayers; i++) {
            playerNameInputsHTML += `
                <label for="playerName${i}">Player ${i + 1}:</label>
                <input type="text" id="playerName${i}" placeholder="Player ${i + 1}">
                <br><br>
            `;
        }
        playerNamesDiv.innerHTML = playerNameInputsHTML;
    }

    function updateTable() {
        // Get number of players and rounds
        const numPlayers = document.getElementById('numPlayers').value;
        const numRounds = document.getElementById('numRounds').value;
        const table = document.getElementById('scoreTable');
        table.innerHTML = ''; // Clear the existing table

        // Create header row with rounds as headers and player names as rows
        let headerRow = '<tr><th>Round</th><th>Dealer</th>';
        for (let p = 0; p < numPlayers; p++) {
            const playerName = document.getElementById('playerName' + p).value || `Player ${p + 1}`;
            headerRow += `<th>${playerName}</th>`;
        }
        headerRow += '</tr>';
        table.innerHTML = headerRow;

        // Create round rows with score inputs for each player
        for (let r = 1; r <= numRounds; r++) {
            let dealerIndex = (r - 1) % numPlayers;
            let row = `<tr><td>Round ${r}</td><td>${document.getElementById('playerName' + dealerIndex).value || `Player ${dealerIndex + 1}`}</td>`; // Dealer column
            for (let p = 0; p < numPlayers; p++) {
                const scoreKey = `${r}_${p}`;
                const scoreValue = scores[scoreKey] || '';
                row += `<td><input type="text" id="score_${r}_${p}" value="${scoreValue}" onchange="updateScore(${r}, ${p})"></td>`;
            }
            row += '</tr>';
            table.innerHTML += row;
        }

        // Create a space to display total scores
        updateTotalScores();
    }

    function updateScore(round, playerIndex) {
        const scoreInput = document.getElementById(`score_${round}_${playerIndex}`);
        const scoreValue = parseInt(scoreInput.value) || 0;
        const scoreKey = `${round}_${playerIndex}`;

        // Store the score value
        scores[scoreKey] = scoreValue;

        // Recalculate total scores
        calculateTotal(playerIndex);
    }

    function calculateTotal(playerIndex) {
        const numRounds = document.getElementById('numRounds').value;
        let total = 0;
        for (let r = 1; r <= numRounds; r++) {
            const scoreKey = `${r}_${playerIndex}`;
            total += scores[scoreKey] || 0;
        }
        document.getElementById('total_' + playerIndex).innerHTML = `${document.getElementById('playerName' + playerIndex).value || `Player ${playerIndex + 1}`} Total: ${total}`;
    }

    function updateTotalScores() {
        const numPlayers = document.getElementById('numPlayers').value;
        const totalScoresDiv = document.getElementById('totalScores');
        totalScoresDiv.innerHTML = '';

        // Recalculate and display the total scores for all players
        for (let p = 0; p < numPlayers; p++) {
            const totalDiv = document.createElement('div');
            totalDiv.setAttribute('id', 'total_' + p);
            totalDiv.innerHTML = `${document.getElementById('playerName' + p).value || `Player ${p + 1}`} Total: 0`;
            totalScoresDiv.appendChild(totalDiv);

            // Recalculate total score
            calculateTotal(p);
        }
    }

    // Initialize the page
    updateTable();
</script>

</body>
</html>
